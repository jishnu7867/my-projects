<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add new item</title>
</head>
<body>
    <form action="/product_edit_post/" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <input type="hidden" name="id" value="{{seller.id}}">

        <label for="title">Title</label>
        <input type="text" name="title" id="title" value="{{seller.title}}"><br>

        <label for="category">Category</label>
        <select name="category" id="category" value="{{seller.category}}">
            <option value="">-- Select Category --</option>
            <option value="painting">Painting</option>
            <option value="sculpture">Sculpture</option>
            <option value="drawing">Drawing</option>
            <option value="digital_art">Digital art</option>
            <option value="photography">Photography</option>
        </select><br>

        <label for="sub_category">Sub Category</label>
        <select name="sub_category" id="sub_category" style="display: none;" value="{{seller.sub_category}}">
            <option value="">-- Select Subcategory --</option>
        </select><br>

        <label for="description">Description</label>
        <textarea name="description" id="description" value="{{seller.description}}"></textarea><br>

        <label for="images">Images</label>
        <input type="file" name="images" id="images" value="{{seller.images}}"><br>

        <label for="date">Creation Date</label>
        <input type="text" name="m_date" id="m_date" value="{{seller.m_date}}"><br>

        <label for="qty">Quantity</label>
        <input type="number" name="qty" id="qty" value="{{seller.qty}}"><br>

        <label for="dimensions">Dimensions</label>
        <input type="text" name="dimensions" id="dimensions" value="{{seller.dimensions}}"><br>

        <label for="price">Price</label>
        <input type="text" name="price" id="price" value="{{seller.price}}"><br>

        
        <button type="submit">Update</button><br><br>
        <a href="/view_product/{{ seller.id }}/">View</a>

    </form>


    <script>
        const subCategoryMap = {
            painting: ["Landscape", "Portrait", "Abstract", "Still Life"],
            sculpture: ["Figurative", "Abstract"],
            drawing: ["Pencil", "Charcoal", "Ink"],
            digital_art: ["Digital Illustration", "3D Art"],
            photography: ["Fine Art", "Landscape", "Portrait"]
        };

        const categorySelect = document.getElementById("category");
        const subCategorySelect = document.getElementById("sub_category");

        categorySelect.addEventListener("change", function () {
            const selectedCategory = this.value;

            subCategorySelect.innerHTML = '<option value="">-- Select Subcategory --</option>';

            if (selectedCategory && subCategoryMap[selectedCategory]) {
                subCategorySelect.style.display = "inline";
                subCategoryMap[selectedCategory].forEach(sub => {
                    const option = document.createElement("option");
                    option.value = sub.toLowerCase().replace(/\s+/g, "_");
                    option.textContent = sub;
                    subCategorySelect.appendChild(option);
                });
            } else {
                subCategorySelect.style.display = "none";
            }
        });
    </script>
</body>
</html>
