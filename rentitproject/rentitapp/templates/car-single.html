<!DOCTYPE html>
<html lang="en">
  <head>
    {% load static %}
    <title>CamRent - Camera & Accessories Rental</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="{% static 'css/open-iconic-bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/animate.css' %}">
    
    <link rel="stylesheet" href="{% static 'css/owl.carousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/owl.theme.default.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/magnific-popup.css' %}">

    <link rel="stylesheet" href="{% static 'css/aos.css' %}">

    <link rel="stylesheet" href="{% static 'css/ionicons.min.css' %}">

    <link rel="stylesheet" href="{% static 'css/bootstrap-datepicker.css' %}">
    <link rel="stylesheet" href="{% static 'css/jquery.timepicker.css' %}">

    <link rel="stylesheet" href="{% static 'css/flaticon.css' %}">
    <link rel="stylesheet" href="{% static 'css/icomoon.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
  </head>
  <body>
  <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
    <div class="container">
      <a class="navbar-brand" href="/index/">Cam<span class="text-primary">Rent</span></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="/index/">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="/all_products/">Products</a></li>
          <li class="nav-item"><a class="nav-link" href="/about/">About</a></li>
          <li class="nav-item"><a class="nav-link" href="/contact/">Contact</a></li>
          <li class="nav-item"><a class="nav-link" href="/dashboard_both/">Dashboard</a></li>
          <!-- <li class="nav-item"><a class="btn btn-outline-light ms-2" href="/login/">Login</a></li> -->
		  	{% if request.session.lid %}
			<!-- Show when logged in -->
			<li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown"
				aria-expanded="false">
				<i class="bi bi-person-circle"></i> Profile
				</a>
				<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
				<li><a class="dropdown-item" href="/profile/">View Profile</a></li>
				<li><hr class="dropdown-divider"></li>
				<li><a class="dropdown-item text-danger" href="/logout/">Logout</a></li>
				</ul>
			</li>
			{% else %}
			<!-- Show login option if not logged in -->
			<li class="nav-item"><a href="/login/" class="nav-link">Login</a></li>
			{% endif %}
        </ul>
      </div>
    </div>
  </nav>
    <section class="hero-wrap hero-wrap-2 js-fullheight" style="background-image: url({% static 'images/image_2.jpg' %});" data-stellar-background-ratio="0.5">
      <div class="overlay"></div>
      <div class="container">
        <div class="row no-gutters slider-text js-fullheight align-items-end justify-content-start">
          <div class="col-md-9 ftco-animate pb-5">
          	<p class="breadcrumbs"><span class="mr-2"><a href="/index/">Home <i class="ion-ios-arrow-forward"></i></a></span> <span>Product details <i class="ion-ios-arrow-forward"></i></span></p>
            <h1 class="mb-3 bread">Product Details</h1>
          </div>
        </div>
      </div>
    </section>
		

		<section class="ftco-section ftco-car-details">
      <div class="container">
		    <div class="row justify-content-center">
        <!-- Images -->
        <div class="col-lg-6 mb-4">
            <div class="main-image mb-3">
            <img id="main-image" src="{{ product.images.first.image.url }}" class="img-fluid" style="width: 500px;" alt="{{ product.title }}">
            {% for img in product.images.all %}
                <img src="{{ img.image.url }}" class="img-thumbnail" style="width:80px; cursor:pointer;" 
                    onclick="document.getElementById('main-image').src=this.src">
            {% endfor %}
            </div>
			<!-- Seller Info -->
			<div class="card mt-4 p-3">
				<h5>Seller Information</h5>
				<p><strong>Name:</strong> {{ product.signup.fname }} {{ product.signup.lname }}</p>
				<p><strong>Email:</strong> {{ product.login.email }}</p>
				<p><strong>Location:</strong> {{ product.location }}</p>
			</div>

        </div>

        <!-- Product Info -->
        <div class="col-lg-6">
            <h2 class="mb-3">{{ product.title }}</h2>
            <p class="h4 text-primary mb-3">${{ product.daily_price }}/day</p>

            <ul class="list-unstyled mb-3">
                <li><strong>Category:</strong> {{ product.category }}</li>
                <li><strong>Brand:</strong> {{ product.brand }}</li>
                <li><strong>Model:</strong> {{ product.model }}</li>
                <li><strong>Condition:</strong> {{ product.condition }}</li>
                
            </ul>
            <div>
              <h3 class="mb-3">Features</h3>
              {% if features %}
                <ul class="list-unstyled">
                  {% for f in features %}
                    <li>• {{ f.features }}</li>
                  {% endfor %}
                </ul>
              {% else %}
                <p class="text-muted">No features added for this product.</p>
              {% endif %}
            </div>
            <!-- Availability -->
            <div>
                <h5>Availability</h5>
                <div class="d-flex flex-wrap gap-1">
                    <p style="color: black;"><strong>{{ product.availability }}</strong></p>
                </div>
            </div>

            <div class="mb-3">
                <a href="/rent/{{ product.id }}/" class="btn btn-primary me-2">Rent Now</a>
                <a href="/contact_lender/{{ product.id }}/" class="btn btn-outline-primary">Contact Seller</a>
            </div>


        </div>
    </div>
      	<!-- <div class="row justify-content-center">
      		<div class="col-md-12">
      			<div class="car-details">
				{% if product.images.all %}
					<img id="main-image" src="{{ product.images.first.image.url }}" class="img-fluid rounded mb-3" style="width: 500px" alt="{{ product.title }}">
				{% endif %} -->

				<!-- Thumbnails -->
				<!-- <div class="d-flex justify-content-center flex-wrap gap-2">
					{% for img in product.images.all %}
					<img src="{{ img.image.url }}" class="img-thumbnail" style="width:100px; height:100px; cursor:pointer;"
						onclick="document.getElementById('main-image').src=this.src">
					{% endfor %}
      			</div>
      		</div>
      	</div> -->





      		<div class="col-md-12 pills">
						<div class="bd-example bd-example-tabs">
							<div class="d-flex justify-content-center">
							  <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
<!-- 
							    <li class="nav-item">
							      <a class="nav-link active" id="pills-description-tab" data-toggle="pill" href="#pills-description" role="tab" aria-controls="pills-description" aria-expanded="true">Features</a>
							    </li> -->
							    <li class="nav-item">
							      <a class="nav-link active " id="pills-description-tab" data-toggle="pill" href="#pills-manufacturer" role="tab" aria-description="pills-description" aria-expanded="true">Description</a>
							    </li>
							    <li class="nav-item">
							      <a class="nav-link" id="pills-review-tab" data-toggle="pill" href="#pills-review" role="tab" aria-controls="pills-review" aria-expanded="true">Review</a>
							    </li>
							  </ul>
							</div>

						  <div class="tab-content" id="pills-tabContent">
						    <!-- <div class="tab-pane fade show active" id="pills-description" role="tabpanel" aria-labelledby="pills-description-tab">
						    	<div class="row">
						    		<div class="col-md-4">
						    			<ul class="features">
						    				<li class="check"><span class="ion-ios-checkmark"></span>Airconditions</li>
						    				<li class="check"><span class="ion-ios-checkmark"></span>Child Seat</li>
						    				<li class="check"><span class="ion-ios-checkmark"></span>GPS</li>
						    				<li class="check"><span class="ion-ios-checkmark"></span>Luggage</li>
						    				<li class="check"><span class="ion-ios-checkmark"></span>Music</li>
						    			</ul>
						    		</div>
						    		<div class="col-md-4">
						    			<ul class="features">
						    				<li class="check"><span class="ion-ios-checkmark"></span>Seat Belt</li>
						    				<li class="remove"><span class="ion-ios-close"></span>Sleeping Bed</li>
						    				<li class="check"><span class="ion-ios-checkmark"></span>Water</li>
						    				<li class="check"><span class="ion-ios-checkmark"></span>Bluetooth</li>
						    				<li class="remove"><span class="ion-ios-close"></span>Onboard computer</li>
						    			</ul>
						    		</div>
						    		<div class="col-md-4">
						    			<ul class="features">
						    				<li class="check"><span class="ion-ios-checkmark"></span>Audio input</li>
						    				<li class="check"><span class="ion-ios-checkmark"></span>Long Term Trips</li>
						    				<li class="check"><span class="ion-ios-checkmark"></span>Car Kit</li>
						    				<li class="check"><span class="ion-ios-checkmark"></span>Remote central locking</li>
						    				<li class="check"><span class="ion-ios-checkmark"></span>Climate control</li>
						    			</ul>
						    		</div>
						    	</div>
						    </div> -->
							
						    <div class="tab-pane fade" id="pills-manufacturer" role="tabpanel" aria-labelledby="pills-manufacturer-tab">
						      <p>{{ product.description }}</p>
						    </div>

							<div class="tab-pane fade" id="pills-review" role="tabpanel" aria-labelledby="pills-review-tab">
							<div class="row">
								<!-- Reviews List -->
								<div class="col-md-7">
								<h3 class="head">{{ reviews.count }} Reviews</h3>

								{% for review in reviews %}
								<div class="review d-flex mb-4">
									<div class="user-img" style="background-image: url({% static 'images/person_default.jpg' %});"></div>
									<div class="desc">
									<h4>
										<span class="text-left">{{ review.name }}</span>
										<span class="text-right">{{ review.created_at|date:"d M Y" }}</span>
									</h4>
									<p class="star">
										<span>
										{% for i in "12345"|make_list %}
											{% if forloop.counter <= review.rating %}
											<i class="ion-ios-star"></i>
											{% else %}
											<i class="ion-ios-star-outline"></i>
											{% endif %}
										{% endfor %}
										</span>
									</p>
									<p>{{ review.comment }}</p>
									</div>
								</div>
								{% empty %}
								<p>No reviews yet. Be the first to review this product!</p>
								{% endfor %}
								</div>

								<!-- Review Form -->
								<div class="col-md-5">
								<div class="rating-wrap">
									<h3 class="head">Write a Review</h3>
									<form method="post">
									{% csrf_token %}
									<div class="form-group mb-3">
										<label>Your Name</label>
										<input type="text" name="name" class="form-control" required>
									</div>
									<div class="form-group mb-3">
										<label>Your Email</label>
										<input type="email" name="email" class="form-control" required>
									</div>
									<div class="form-group mb-3">
										<label>Rating</label>
										<select name="rating" class="form-control" required>
										<option value="5">★★★★★ (5)</option>
										<option value="4">★★★★☆ (4)</option>
										<option value="3">★★★☆☆ (3)</option>
										<option value="2">★★☆☆☆ (2)</option>
										<option value="1">★☆☆☆☆ (1)</option>
										</select>
									</div>
									<div class="form-group mb-3">
										<label>Your Review</label>
										<textarea name="comment" rows="4" class="form-control" required></textarea>
									</div>
									<button type="submit" class="btn btn-primary py-2 px-4">Submit Review</button>
									</form>
								</div>
								</div>
							</div>
							</div>
						  </div>
						</div>
		      </div>
				</div>
      </div>
    </section>

<section class="ftco-section ftco-no-pt">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-12 heading-section text-center ftco-animate mb-5">
        <span class="subheading">You may also like</span>
        <h2 class="mb-2">Related Cameras</h2>
      </div>
    </div>

    <div class="row">
      {% for related in related_products %}
      <div class="col-md-4 mb-4">
        <div class="car-wrap rounded ftco-animate">
          <div class="img rounded d-flex align-items-end"
               style="background-image: url('{{ related.images.first.image.url }}'); background-size: cover; background-position: center;">
          </div>
          <div class="text">
            <h2 class="mb-0">
              <a href="{% url 'product_single' related.id %}">{{ related.title }}</a>
            </h2>
            <div class="d-flex mb-3">
              <span class="cat">{{ related.category }}</span>
              <p class="price ml-auto">₹{{ related.daily_price }} <span>/day</span></p>
            </div>
            <p class="d-flex mb-0 d-block">
              <a href="/rent/{{ related.id }}/" class="btn btn-primary py-2 mr-1">Rent Now</a>
              <a href="{% url 'product_single' related.id %}" class="btn btn-secondary py-2 ml-1">Details</a>
            </p>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col-md-12 text-center">
        <p>No related cameras found.</p>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
    
    <!-- footer -->
    <footer class="ftco-footer ftco-bg-dark ftco-section">
      <div class="container">
        <div class="row mb-5">
          <div class="col-md">
            <div class="ftco-footer-widget mb-4">
              <h2 class="ftco-heading-2"><a href="/index/" class="logo ft_clr">Cam<span class="text-primary">Rent</span></a></h2>
              <p>Your one-stop rental platform for cameras, lenses, and more.</p>
              <ul class="ftco-footer-social list-unstyled float-md-left float-lft mt-5">
                <li class="ftco-animate"><a href="#"><span class="icon-twitter"></span></a></li>
                <li class="ftco-animate"><a href="#"><span class="icon-facebook"></span></a></li>
                <li class="ftco-animate"><a href="#"><span class="icon-instagram"></span></a></li>
              </ul>
            </div>
          </div>
          <div class="col-md">
            <div class="ftco-footer-widget mb-4 ml-md-5">
              <h2 class="ftco-heading-2">Information</h2>
              <ul class="list-unstyled">
                <li><a href="/about/" class="py-2 d-block">About</a></li>
                <li><a href="/sevices/" class="py-2 d-block">Services</a></li>
                <li><a href="#" class="py-2 d-block">Term and Conditions</a></li>
                <li><a href="#" class="py-2 d-block">Privacy &amp; Cookies Policy</a></li>
              </ul>
            </div>
          </div>
          <div class="col-md">
             <div class="ftco-footer-widget mb-4">
              <h2 class="ftco-heading-2">Customer Support</h2>
              <ul class="list-unstyled">
                <li><a href="#" class="py-2 d-block">FAQ</a></li>
                <li><a href="#" class="py-2 d-block">How it works</a></li>
                <li><a href="/contact/" class="py-2 d-block">Contact Us</a></li>
              </ul>
            </div>
          </div>
          <div class="col-md">
            <div class="ftco-footer-widget mb-4">
            	<h2 class="ftco-heading-2">Have a Questions?</h2>
            	<div class="block-23 mb-3">
	              <ul>
	                <li><span class="icon icon-map-marker"></span><span class="text">Palakkad, Kerala, India</span></li>
	                <li><a href="#"><span class="icon icon-phone"></span><span class="text">+91 98765 43210</span></a></li>
	                <li><a href="#"><span class="icon icon-envelope"></span><span class="text"> support@rentit.com</span></a></li>
	              </ul>
	            </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12 text-center">

            <p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
  Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart color-danger" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
  <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
          </div>
        </div>
      </div>
    </footer>

    <!-- The rest sections (About, Services, Testimonial, Blog, Footer, Counter, Loader) can remain SAME as your car template -->
    <!-- Just update texts/images to match camera rental theme -->
    
  <script src="{% static 'js/jquery.min.js' %}"></script>
  <script src="{% static 'js/jquery-migrate-3.0.1.min.js' %}"></script>
  <script src="{% static 'js/popper.min.js' %}"></script>
  <script src="{% static 'js/bootstrap.min.js' %}"></script>
  <script src="{% static 'js/jquery.easing.1.3.js' %}"></script>
  <script src="{% static 'js/jquery.waypoints.min.js' %}"></script>
  <script src="{% static 'js/jquery.stellar.min.js' %}"></script>
  <script src="{% static 'js/owl.carousel.min.js' %}"></script>
  <script src="{% static 'js/jquery.magnific-popup.min.js' %}"></script>
  <script src="{% static 'js/aos.js' %}"></script>
  <script src="{% static 'js/jquery.animateNumber.min.js' %}"></script>
  <script src="{% static 'js/bootstrap-datepicker.js' %}"></script>
  <script src="{% static 'js/jquery.timepicker.min.js' %}"></script>
  <script src="{% static 'js/scrollax.min.js' %}"></script>
  <script src="{% static 'js/main.js' %}"></script>
    
  </body>
</html>